import{c as w,j as e,T as z,r as h,E as O}from"./index-ByN2CL-u.js";import{u as q}from"./useEvents-BxfAWpS2.js";import{u as X,p as E,f as F,c as D,a as K}from"./useStats-BPCi7Cl3.js";import{S as _,C as B,a as P,c as V}from"./photos-DsZdgB71.js";import{T as W,C as G}from"./ConfirmDialog-CUerFFvI.js";import{X as v}from"./x-Ccpe_xbh.js";import{C as Y}from"./chevron-right-CJ99E8w9.js";import{S as H}from"./search-gAwda_T7.js";import{P as I}from"./plus-J6bYTX6f.js";import{C as J}from"./chevron-down-jaXhSlRb.js";import{R as Q,T as Z}from"./trending-up-CYlwoj56.js";import{C as U}from"./calendar-DrYMVfwC.js";const ee=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],L=w("clock",ee);const te=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],se=w("git-branch",te);const re=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],ae=w("layout-list",re);const le=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],A=w("map-pin",le);const ie=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ne=w("pencil",ie);function ce({rating:t,size:n=10}){return e.jsx("div",{className:"flex items-center gap-0.5",children:Array.from({length:5}).map((d,o)=>e.jsx(_,{size:n,className:o<t?"text-amber-400 fill-amber-400":"text-gray-700"},o))})}function oe({type:t}){const n=z[t]||"#6b7280";return e.jsx("span",{className:"text-[10px] font-bold px-2 py-0.5 rounded-full",style:{backgroundColor:n+"20",color:n},children:t})}function de({photos:t,initialIndex:n,onClose:d}){const[o,l]=h.useState(n),c=h.useRef(null),r=h.useRef(0),[p,g]=h.useState(0),b=h.useCallback(a=>{l(i=>{const j=i+a;return j<0||j>=t.length?i:j}),g(0)},[t.length]);h.useEffect(()=>{const a=i=>{i.key==="Escape"&&d(),i.key==="ArrowLeft"&&b(-1),i.key==="ArrowRight"&&b(1)};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[b,d]);const f=a=>{c.current=a.touches[0].clientX,r.current=0},y=a=>{c.current!==null&&(r.current=a.touches[0].clientX-c.current,g(r.current))},x=()=>{r.current<-60?b(1):r.current>60&&b(-1),c.current=null,r.current=0,g(0)};return e.jsxs("div",{className:"fixed inset-0 z-50 bg-black/95 flex flex-col",onClick:d,children:[e.jsx("button",{onClick:d,className:"absolute top-4 right-4 z-10 bg-white/10 backdrop-blur rounded-full p-2 text-white/80 hover:text-white hover:bg-white/20 transition-colors",children:e.jsx(v,{size:22})}),o>0&&e.jsx("button",{onClick:a=>{a.stopPropagation(),b(-1)},className:"absolute left-3 top-1/2 -translate-y-1/2 z-10 bg-white/10 backdrop-blur rounded-full p-2 text-white/70 hover:text-white hover:bg-white/20 transition-colors hidden sm:flex",children:e.jsx(B,{size:24})}),o<t.length-1&&e.jsx("button",{onClick:a=>{a.stopPropagation(),b(1)},className:"absolute right-3 top-1/2 -translate-y-1/2 z-10 bg-white/10 backdrop-blur rounded-full p-2 text-white/70 hover:text-white hover:bg-white/20 transition-colors hidden sm:flex",children:e.jsx(Y,{size:24})}),e.jsx("div",{className:"flex-1 flex items-center justify-center p-4 overflow-hidden",onTouchStart:f,onTouchMove:y,onTouchEnd:x,onClick:a=>a.stopPropagation(),children:e.jsx("img",{src:t[o],alt:"",className:"max-w-full max-h-full object-contain rounded-xl select-none transition-transform duration-150",style:{transform:`translateX(${p}px)`},draggable:!1})}),t.length>1&&e.jsx("div",{className:"pb-6 text-center",children:e.jsxs("span",{className:"text-white/60 text-sm font-medium bg-white/10 backdrop-blur px-4 py-1.5 rounded-full",children:[o+1," of ",t.length]})})]})}function xe({photos:t}){const[n,d]=h.useState(null);return!t||t.length===0?null:e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-3 gap-2",children:t.map((o,l)=>e.jsx("button",{onClick:()=>d(l),className:"aspect-square rounded-xl overflow-hidden group focus:outline-none focus:ring-2 focus:ring-indigo-500",children:e.jsx("img",{src:o,alt:"",className:"w-full h-full object-cover transition-transform duration-200 group-hover:scale-105"})},l))}),n!==null&&e.jsx(de,{photos:t,initialIndex:n,onClose:()=>d(null)})]})}function me({event:t,onBack:n,onEdit:d,onDelete:o,onUpdatePhotos:l,onUpdate:c}){const[r,p]=h.useState(!1),[g,b]=h.useState(""),f=t.photos||[],y=t.kitList||[],x=6;return e.jsxs("div",{className:"pb-24 sm:pb-8",children:[e.jsxs("div",{className:"h-48 flex items-center justify-center text-6xl relative",style:{background:t.heroImage},children:[e.jsx("button",{onClick:n,className:"absolute top-4 left-4 bg-black/40 backdrop-blur rounded-full p-2 text-white hover:bg-black/60 transition-colors",children:e.jsx(J,{size:18,className:"rotate-90"})}),e.jsx("span",{children:t.badge}),t.completions>1&&e.jsxs("span",{className:"absolute top-4 right-4 bg-indigo-500 text-white text-sm font-bold px-2.5 py-1 rounded-full",children:["Ã—",t.completions]})]}),e.jsx("div",{className:"px-5 -mt-6 relative",children:e.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-800 overflow-hidden",children:[e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",style:{color:z[t.type]},children:t.type}),e.jsx("h2",{className:"text-2xl font-black text-white mt-1",children:t.name}),e.jsxs("div",{className:"flex items-center gap-1.5 text-gray-400 text-sm mt-1",children:[e.jsx(A,{size:13})," ",t.location]})]}),e.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[e.jsx("button",{onClick:()=>d(t.id),className:"bg-gray-800 border border-gray-700 rounded-xl p-2.5 text-gray-400 hover:text-white hover:border-gray-500 transition-colors",children:e.jsx(ne,{size:16})}),e.jsx("button",{onClick:()=>p(!0),className:"bg-gray-800 border border-gray-700 rounded-xl p-2.5 text-gray-400 hover:text-red-400 hover:border-red-700 transition-colors",children:e.jsx(W,{size:16})})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-5",children:[t.distance&&e.jsxs("div",{className:"bg-gray-800 rounded-xl p-3 text-center",children:[e.jsx(Q,{size:16,className:"text-emerald-400 mx-auto mb-1"}),e.jsxs("div",{className:"text-white font-bold",children:[t.distance,"km"]}),e.jsx("div",{className:"text-[10px] text-gray-500 uppercase",children:"Distance"})]}),t.elevation&&e.jsxs("div",{className:"bg-gray-800 rounded-xl p-3 text-center",children:[e.jsx(Z,{size:16,className:"text-orange-400 mx-auto mb-1"}),e.jsxs("div",{className:"text-white font-bold",children:[t.elevation.toLocaleString(),"m"]}),e.jsx("div",{className:"text-[10px] text-gray-500 uppercase",children:"Elevation"})]}),e.jsxs("div",{className:"bg-gray-800 rounded-xl p-3 text-center",children:[e.jsx(_,{size:16,className:"text-amber-400 mx-auto mb-1"}),e.jsxs("div",{className:"text-white font-bold",children:[t.difficulty,"/5"]}),e.jsx("div",{className:"text-[10px] text-gray-500 uppercase",children:"Difficulty"})]})]}),E(t.time)&&e.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[e.jsxs("div",{className:"bg-gray-800 rounded-xl p-3 text-center",children:[e.jsx(L,{size:16,className:"text-cyan-400 mx-auto mb-1"}),e.jsx("div",{className:"text-white font-bold",children:F(E(t.time))}),e.jsx("div",{className:"text-[10px] text-gray-500 uppercase",children:"Finish Time"})]}),D(t.time,t.distance)&&e.jsxs("div",{className:"bg-gray-800 rounded-xl p-3 text-center",children:[e.jsx(L,{size:16,className:"text-indigo-400 mx-auto mb-1"}),e.jsx("div",{className:"text-white font-bold",children:K(D(t.time,t.distance))}),e.jsx("div",{className:"text-[10px] text-gray-500 uppercase",children:"Pace"})]})]}),!t.date&&!t.time&&e.jsx("div",{className:"flex gap-2 mt-4 flex-wrap",children:[{icon:U,text:"Add date"},{icon:L,text:"Add finish time"},{icon:P,text:"Add photos"}].map((a,i)=>e.jsxs("button",{onClick:()=>d(t.id),className:"text-xs bg-gray-800 text-gray-400 px-3 py-1.5 rounded-full flex items-center gap-1.5 border border-gray-700 border-dashed hover:border-gray-500 transition-colors",children:[e.jsx(a.icon,{size:12})," ",a.text]},i))})]}),t.peaks?.length>0&&e.jsxs("div",{className:"px-5 pb-4",children:[e.jsx("div",{className:"text-[10px] uppercase tracking-widest text-indigo-400 font-bold mb-2",children:"Peaks Summited"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:t.peaks.map((a,i)=>e.jsxs("span",{className:"bg-indigo-500/10 text-indigo-300 text-xs font-medium px-2.5 py-1 rounded-lg border border-indigo-500/20",children:["â›°ï¸ ",a]},i))})]}),t.story&&e.jsxs("div",{className:"border-t border-gray-800 p-5",children:[e.jsx("div",{className:"text-[10px] uppercase tracking-widest text-emerald-400 font-bold mb-2",children:"The Story"}),e.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:t.story})]}),t.lessons&&e.jsxs("div",{className:"border-t border-gray-800 p-5",children:[e.jsx("div",{className:"text-[10px] uppercase tracking-widest text-amber-400 font-bold mb-2",children:"Lessons Learned"}),e.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:t.lessons})]}),e.jsxs("div",{className:"border-t border-gray-800 p-5",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"text-[10px] uppercase tracking-widest text-cyan-400 font-bold",children:["Kit List ",y.length>0&&`(${y.filter(a=>a.checked).length}/${y.length})`]})}),y.length>0&&e.jsx("div",{className:"space-y-1.5 mb-3",children:y.map((a,i)=>e.jsxs("button",{onClick:()=>{const j=y.map((N,k)=>k===i?{...N,checked:!N.checked}:N);c({kitList:j})},className:"w-full flex items-center gap-2.5 text-left group",children:[e.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center flex-shrink-0 transition-colors ${a.checked?"bg-cyan-500/20 border-cyan-500":"border-gray-600 group-hover:border-gray-400"}`,children:a.checked&&e.jsx("span",{className:"text-cyan-400 text-xs",children:"âœ“"})}),e.jsx("span",{className:`text-sm ${a.checked?"text-gray-500 line-through":"text-gray-300"}`,children:a.item}),e.jsx("button",{onClick:j=>{j.stopPropagation(),c({kitList:y.filter((N,k)=>k!==i)})},className:"ml-auto text-gray-700 hover:text-red-400 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(v,{size:12})})]},i))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:g,onChange:a=>b(a.target.value),onKeyDown:a=>{a.key==="Enter"&&g.trim()&&(c({kitList:[...y,{item:g.trim(),checked:!1}]}),b(""))},placeholder:"Add kit item...",className:"flex-1 bg-gray-800 border border-gray-700 rounded-lg px-3 py-1.5 text-xs text-white placeholder:text-gray-500 focus:outline-none focus:border-cyan-500"}),e.jsx("button",{onClick:()=>{g.trim()&&(c({kitList:[...y,{item:g.trim(),checked:!1}]}),b(""))},className:"bg-gray-800 border border-gray-700 rounded-lg px-2.5 hover:border-gray-500 transition-colors",children:e.jsx(I,{size:14,className:"text-gray-400"})})]})]}),e.jsxs("div",{className:"border-t border-gray-800 p-5",children:[e.jsx("div",{className:"text-[10px] uppercase tracking-widest text-rose-400 font-bold mb-2",children:"Nutrition Plan"}),e.jsx("textarea",{value:t.nutritionPlan||"",onChange:a=>c({nutritionPlan:a.target.value}),placeholder:t.status==="completed"?"What worked? What didn't?":"Plan your race-day nutrition...",className:"w-full bg-gray-800 border border-gray-700 rounded-xl px-3 py-2.5 text-sm text-gray-300 placeholder:text-gray-600 focus:outline-none focus:border-rose-500 resize-y min-h-[60px]",rows:2})]}),e.jsxs("div",{className:"border-t border-gray-800 p-5",children:[e.jsxs("div",{className:"text-[10px] uppercase tracking-widest text-gray-500 font-bold mb-3",children:["Photos ",f.length>0&&`(${f.length}/${x})`]}),f.length>0&&e.jsx("div",{className:"mb-3",children:e.jsx(xe,{photos:f})}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:f.map((a,i)=>e.jsxs("button",{type:"button",onClick:()=>l(f.filter((j,N)=>N!==i)),className:"text-[10px] text-red-400 bg-red-500/10 border border-red-500/20 px-2 py-1 rounded-lg hover:bg-red-500/20 transition-colors flex items-center gap-1",children:[e.jsx(v,{size:10})," Photo ",i+1]},i))}),f.length<x&&e.jsxs("label",{className:"mt-2 inline-flex items-center gap-2 bg-gray-800 border border-gray-700 rounded-xl px-4 py-2.5 cursor-pointer hover:border-gray-500 transition-colors",children:[e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:async a=>{const i=a.target.files?.[0];if(i){try{const j=await V(i);l([...f,j])}catch{}a.target.value=""}}}),e.jsx(P,{size:16,className:"text-gray-500"}),e.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"Add photo"})]})]})]})}),r&&e.jsx(G,{title:`Delete ${t.name}?`,message:"This cannot be undone. All data for this event will be permanently removed.",onConfirm:()=>{o(t.id),n()},onCancel:()=>p(!1)})]})}function he({events:t,upcoming:n,onSelect:d}){const o=t.filter(r=>r.date).sort((r,p)=>r.date.localeCompare(p.date)),c=[...t.filter(r=>!r.date),...o];return e.jsxs("div",{className:"relative pl-8",children:[e.jsx("div",{className:"absolute left-[15px] top-2 bottom-0 w-0.5 bg-gray-800"}),c.map((r,p)=>e.jsxs("button",{onClick:()=>d(r.id),className:"relative mb-4 w-full text-left group",children:[e.jsx("div",{className:"absolute left-[-25px] top-3 w-3.5 h-3.5 rounded-full border-2 border-gray-900 z-10",style:{backgroundColor:r.color||"#6366f1"}}),e.jsx("div",{className:"bg-gray-800/60 rounded-xl p-3 border border-gray-700/50 group-hover:border-gray-600 transition-all active:scale-[0.98]",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-lg flex-shrink-0",style:{background:r.heroImage},children:r.badge}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-white font-bold text-sm truncate",children:r.name}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 mt-0.5",children:[e.jsx("span",{style:{color:z[r.type]},children:r.type}),r.distance&&e.jsxs("span",{children:[r.distance,"km"]}),r.elevation&&e.jsxs("span",{children:["â†‘",r.elevation,"m"]})]})]}),e.jsx("div",{className:"text-right flex-shrink-0",children:e.jsx("div",{className:"text-gray-500 text-[10px]",children:r.date||"Date TBC"})})]})})]},r.id)),n&&e.jsxs("div",{className:"relative mb-4",children:[e.jsx("div",{className:"absolute left-[-25px] top-3 w-3.5 h-3.5 rounded-full border-2 border-gray-900 bg-red-500 z-10 animate-pulse"}),e.jsx("div",{className:"bg-red-900/20 rounded-xl p-3 border border-red-700/30 border-dashed",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-lg flex-shrink-0",style:{background:n.heroImage||"linear-gradient(135deg, #dc2626, #ea580c)"},children:n.badge||"ðŸŽ¯"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-[10px] uppercase tracking-widest text-red-400 font-bold",children:"Next Target"}),e.jsx("div",{className:"text-white font-bold text-sm truncate",children:n.name}),e.jsxs("div",{className:"text-gray-400 text-xs mt-0.5",children:[n.distance,"km Â· ",n.date]})]})]})})]})]})}const ge=[{key:"newest",label:"Newest"},{key:"oldest",label:"Oldest"},{key:"dist-desc",label:"Distance â†“"},{key:"dist-asc",label:"Distance â†‘"},{key:"diff-desc",label:"Difficulty â†“"}];function ue({eventA:t,eventB:n,onClose:d}){const o=[{label:"Distance",key:"distance",unit:"km",color:"#10b981"},{label:"Elevation",key:"elevation",unit:"m",color:"#f59e0b"},{label:"Difficulty",key:"difficulty",unit:"/5",color:"#ef4444"}];return e.jsx("div",{className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center p-4",onClick:d,children:e.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-800 max-w-md w-full overflow-hidden",onClick:l=>l.stopPropagation(),children:[e.jsx("div",{className:"flex border-b border-gray-800",children:[t,n].map(l=>e.jsxs("div",{className:"flex-1 p-4 text-center",children:[e.jsx("div",{className:"text-2xl mb-1",children:l.badge}),e.jsx("div",{className:"text-white font-bold text-sm truncate",children:l.name}),e.jsx("div",{className:"text-gray-500 text-xs mt-0.5",style:{color:z[l.type]},children:l.type})]},l.id))}),e.jsx("div",{className:"p-4 space-y-3",children:o.map(l=>{const c=t[l.key]||0,r=n[l.key]||0,p=Math.max(c,r,1);return e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-wider font-bold mb-1.5",children:l.label}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:`text-sm font-bold w-16 text-right ${c>=r?"text-white":"text-gray-500"}`,children:[c,l.unit]}),e.jsxs("div",{className:"flex-1 flex gap-1 h-5",children:[e.jsx("div",{className:"flex-1 flex justify-end",children:e.jsx("div",{className:"h-full rounded-l-sm",style:{width:`${c/p*100}%`,backgroundColor:l.color,opacity:c>=r?1:.4}})}),e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"h-full rounded-r-sm",style:{width:`${r/p*100}%`,backgroundColor:l.color,opacity:r>=c?1:.4}})})]}),e.jsxs("span",{className:`text-sm font-bold w-16 ${r>=c?"text-white":"text-gray-500"}`,children:[r,l.unit]})]})]},l.key)})}),e.jsx("div",{className:"border-t border-gray-800 p-4",children:e.jsx("button",{onClick:d,className:"w-full py-2.5 rounded-xl bg-gray-800 text-gray-300 text-sm font-medium hover:bg-gray-700 transition-colors",children:"Close"})})]})})}function Le({onAddEvent:t,onEditEvent:n}){const[d,o]=h.useState(null),[l,c]=h.useState("cards"),[r,p]=h.useState(""),[g,b]=h.useState("All"),[f,y]=h.useState("newest"),[x,a]=h.useState([]),{completed:i,upcoming:j,deleteEvent:N,updateEvent:k}=q(),{totalEvents:T,totalDistance:M}=X(),S=h.useMemo(()=>{let s=i;if(r.trim()){const m=r.toLowerCase();s=s.filter(u=>u.name.toLowerCase().includes(m)||u.location&&u.location.toLowerCase().includes(m)||u.peaks&&u.peaks.some(R=>R.toLowerCase().includes(m)))}switch(g!=="All"&&(s=s.filter(m=>m.type===g)),s=[...s],f){case"newest":s.reverse();break;case"oldest":break;case"dist-desc":s.sort((m,u)=>(u.distance||0)-(m.distance||0));break;case"dist-asc":s.sort((m,u)=>(m.distance||0)-(u.distance||0));break;case"diff-desc":s.sort((m,u)=>(u.difficulty||0)-(m.difficulty||0));break}return s},[i,r,g,f]),$=r.trim()||g!=="All",C=d?i.find(s=>s.id===d):null;return C?e.jsx(me,{event:C,onBack:()=>o(null),onEdit:n,onDelete:s=>{N(s),o(null)},onUpdatePhotos:s=>k(C.id,{photos:s}),onUpdate:s=>k(C.id,s)}):e.jsxs("div",{className:"px-4 pb-24 sm:pb-8 pt-4 relative",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-white mb-1",children:"All Challenges"}),e.jsxs("p",{className:"text-gray-500 text-sm",children:[$?`${S.length} of ${T}`:T," events Â· ",M,"km total"]})]}),e.jsxs("div",{className:"flex bg-gray-800 rounded-lg border border-gray-700 p-0.5",children:[e.jsx("button",{onClick:()=>c("cards"),className:`p-2 rounded-md transition-colors ${l==="cards"?"bg-gray-700 text-white":"text-gray-500 hover:text-gray-300"}`,children:e.jsx(ae,{size:16})}),e.jsx("button",{onClick:()=>c("timeline"),className:`p-2 rounded-md transition-colors ${l==="timeline"?"bg-gray-700 text-white":"text-gray-500 hover:text-gray-300"}`,children:e.jsx(se,{size:16})})]})]}),e.jsxs("div",{className:"relative mb-3",children:[e.jsx(H,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"}),e.jsx("input",{type:"text",value:r,onChange:s=>p(s.target.value),placeholder:"Search events, locations, peaks...",className:"w-full bg-gray-800/60 border border-gray-700/50 rounded-xl pl-9 pr-9 py-2.5 text-sm text-white placeholder-gray-500 focus:border-indigo-500 focus:outline-none"}),r&&e.jsx("button",{onClick:()=>p(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-white",children:e.jsx(v,{size:14})})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4 gap-2",children:[e.jsx("div",{className:"flex gap-1.5 overflow-x-auto no-scrollbar",children:["All",...O].map(s=>e.jsx("button",{onClick:()=>b(s),className:`px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap transition-colors ${g===s?"bg-indigo-600 text-white":"bg-gray-800 text-gray-400 hover:text-white border border-gray-700"}`,children:s},s))}),e.jsx("select",{value:f,onChange:s=>y(s.target.value),className:"bg-gray-800 border border-gray-700 rounded-lg text-xs text-gray-300 px-2 py-1.5 focus:outline-none flex-shrink-0",children:ge.map(s=>e.jsx("option",{value:s.key,children:s.label},s.key))})]}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[$?e.jsxs("button",{onClick:()=>{p(""),b("All")},className:"text-xs text-indigo-400 hover:text-indigo-300 flex items-center gap-1",children:[e.jsx(v,{size:12})," Clear filters"]}):e.jsx("span",{}),i.length>=2&&e.jsx("button",{onClick:()=>a(x.length>0?[]:["selecting"]),className:`text-xs font-medium px-3 py-1.5 rounded-full transition-colors ${x.length>0?"bg-amber-500/20 text-amber-400 border border-amber-500/40":"text-gray-400 hover:text-white"}`,children:x.length>0?"Cancel Compare":"Compare"})]}),x.includes("selecting")&&e.jsx("div",{className:"bg-amber-900/20 border border-amber-700/30 rounded-xl px-4 py-2.5 mb-3 text-center",children:e.jsx("p",{className:"text-amber-300 text-xs font-medium",children:"Tap two events to compare them"})}),l==="timeline"?e.jsx(he,{events:S,upcoming:j,onSelect:o}):e.jsx("div",{className:"space-y-3",children:S.map(s=>{const m=x.includes(s.id);return e.jsx("button",{onClick:()=>{x.length>0&&x[0]==="selecting"?a([s.id]):x.length===1&&x[0]!==s.id?a([x[0],s.id]):o(s.id)},className:`w-full text-left bg-gray-800/60 rounded-2xl overflow-hidden border transition-all active:scale-[0.98] ${m?"border-amber-500/60 ring-1 ring-amber-500/30":"border-gray-700/50 hover:border-gray-600"}`,children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-24 h-28 flex items-center justify-center text-3xl flex-shrink-0",style:{background:s.heroImage},children:s.badge}),e.jsxs("div",{className:"p-3.5 flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-white font-bold text-base truncate",children:s.name}),e.jsxs("div",{className:"flex items-center gap-1 text-gray-400 text-xs mt-0.5",children:[e.jsx(A,{size:11})," ",s.location]})]}),s.completions>1&&e.jsxs("span",{className:"bg-indigo-500/20 text-indigo-300 text-[10px] font-bold px-1.5 py-0.5 rounded flex-shrink-0",children:["Ã—",s.completions]})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-2.5",children:[e.jsx(oe,{type:s.type}),s.distance&&e.jsxs("span",{className:"text-gray-400 text-xs",children:[s.distance,"km"]}),s.elevation&&e.jsxs("span",{className:"text-gray-400 text-xs",children:["â†‘",s.elevation,"m"]}),s.photos?.length>0&&e.jsxs("span",{className:"text-gray-500 text-xs flex items-center gap-1",children:[e.jsx(P,{size:11})," ",s.photos.length]}),e.jsx("div",{className:"ml-auto",children:e.jsx(ce,{rating:s.difficulty})})]})]})]})},s.id)})}),e.jsx("button",{onClick:t,className:"fixed bottom-20 sm:bottom-6 right-4 sm:right-auto sm:left-1/2 sm:translate-x-[calc(min(50vw,320px)-2rem)] z-40 w-14 h-14 bg-indigo-600 hover:bg-indigo-500 text-white rounded-full shadow-lg shadow-indigo-600/30 flex items-center justify-center transition-all active:scale-90",children:e.jsx(I,{size:24,strokeWidth:2.5})}),x.length===2&&(()=>{const s=i.find(u=>u.id===x[0]),m=i.find(u=>u.id===x[1]);return s&&m?e.jsx(ue,{eventA:s,eventB:m,onClose:()=>a([])}):null})()]})}export{Le as default};
